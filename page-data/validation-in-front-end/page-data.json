{"componentChunkName":"component---src-templates-blog-post-js","path":"/validation-in-front-end","result":{"data":{"markdownRemark":{"html":"<p>ë‹¤ì‹œ ì»´í“¨í„°ì— ì•‰ì•˜ë‹¤. ì €ë²ˆ êµ¬ìƒëŒ€ë¡œ ëª¨ë“  ê²ƒì„ ì‹¹ ë°”ê¾¸ê¸°ë¡œ í–ˆë‹¤. ì¼ë‹¨ í”„ë¡ íŠ¸ì—ì„œ íšŒì›ê°€ì… ì–‘ì‹ì„ ë°›ì•„ì„œ ê°’ì„ ë¨¼ì € ê²€ì¦í•˜ê¸°ë¡œ í–ˆë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ì— íšŒì› ê°€ì… ì–‘ì‹ì„ í™•ì¸í•˜ëŠ” ì ˆì°¨ë¥¼ ë§Œë“¤ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">submitJoinForm</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">makeDictionary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ê°ì²´ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜</span>\n  <span class=\"token keyword\">const</span> checker <span class=\"token operator\">=</span> <span class=\"token function\">checkJoinData</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ê°ì²´ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ ìµœì¢…ì ìœ¼ë¡œ trueì™€ falseë¥¼ ë„˜ê²¨ì¤€ë‹¤.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>checker<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">postDataToServer</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// checkerì—ì„œ trueê°€ ë„˜ì–´ì˜¤ë©´ fetchë¡œ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ë³´ë‚¸ë‹¤.</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì €ë²ˆì— êµ¬ìƒí–ˆë˜ ê²ƒì„ ì „ë¶€ ë’¤ì§‘ì–´ ì—ì—ˆì§€ë§Œ ì§€ê¸ˆì´ ì½”ë“œ ê°€ë…ì„±ì´ë‚˜ ì‘ë™ ì¸¡ë©´ì´ë‚˜ ëª¨ë“  ë©´ì—ì„œ í›¨ì”¬ ì¢‹ì€ ê²ƒ ê°™ë‹¤. ê´œíˆ sessionStorageë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.</p>\n<p>ì¼ë‹¨ documentì—ì„œ inputê°’ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì„ ë‚´ê°€ ë°˜ë³µí•˜ê¸°ê°€ ë„ˆë¬´ ì‹«ì—ˆë‹¤.(ë‚˜ëŠ” ê²Œìœ¼ë¥´ë‹ˆê¹Œ...) ê·¸ë˜ì„œ querySelectAllì„ ì‚¬ìš©í•´ì„œ inputì„ ì „ë¶€ ë¶ˆëŸ¬ì˜¤ê¸°ë¡œ í–ˆë‹¤. ê·¸ëŸ¼ ìœ ì‚¬ ë°°ì—´ë¡œ inputì„ ì „ë¶€ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">makeDictionary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> inputDict <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ê°ì²´ ìƒê°í•´ë³´ë‹ˆ ì´ë ‡ê²Œ ì•ˆí•´ë„ ë ê²ƒê°™ë‹¤.</span>\n  inputs<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>inputDict<span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      inputDict<span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> inputDict<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ê·¸ëƒ¥ ì´ ê°’ì„ {}ì´ë ‡ê²Œ ë„˜ê²¨ì¤˜ë„ ë  ê²ƒ ê°™ë‹¤.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë§Œë“  ê°ì²´ë¥¼ checkJoinDataì— ë„˜ê²¨ì£¼ê³ ë‚˜ë©´ ê°ì²´ ê°’ì„ ê²€ì¦í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì§°ë‹¤. ìµœëŒ€í•œ ë°˜ë³µì„ í”¼í•˜ê³  ì‹¶ì—ˆë‹¤. ê·¸ëŸ°ë° ì™œ í•¨ìˆ˜ê°€ ê²°êµ­ ê±°ê¸°ì„œ ê±°ê¸°ì¸ ê²ƒ ê°™ì„ê¹Œ. ì–´ì¨Œë“  ê°ì²´ì— ì €ì¥ëœ í‚¤ ê°’ì„ ê°ê° email, name, username, passwordë¥¼ ê²€ì¦í•˜ëŠ” í•¨ìˆ˜ë¡œ ë³´ë‚¸ ë‹¤ìŒì— ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ì…ë ¥ë˜ë„ë¡ ì²´í¬í•˜ê²Œë” í–ˆë‹¤. ì•„ì§ì€ ê°€ì…ìê°€ ë­˜ ì˜ëª»í–ˆëŠ”ì§€ ë©”ì‹œì§€ë¥¼ ë„ì›Œì£¼ì§€ëŠ” ì•ŠëŠ”ë‹¤.</p>\n<p>checker í•¨ìˆ˜ëŠ” ë„˜ê²¨ë°›ì€ ë¬¸ìë¥¼ ì •ê·œ í‘œí˜„ì‹ìœ¼ë¡œ ê²€ì¦í•œë‹¤. ì •ê·œ í‘œí˜„ì‹ì€ êµ¬ê¸€ì— ë§ì´ ë‚˜ì™€ìˆê³ , íŠ¹ìˆ˜ë¬¸ìë¥¼ ì œê±°í•˜ëŠ” ë°©ë²•ì´ë‚˜ í•œê¸€ë§Œ ì…ë ¥í•  ìˆ˜ ìˆë„ë¡ í•˜ê²Œ í•˜ëŠ” ë“±ì˜ ì¡°í•©ë²•ì´ ì¹œì ˆí•˜ê²Œ ì„¤ëª…ë˜ì–´ìˆë‹¤.</p>\n<p><a href=\"https://youtu.be/rsd4FNGTRBw\">ì°¸ê³ í•œ ë™ì˜ìƒ : JavaScript Client-side Form Validation</a></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">checkJoinData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> item <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span> obj<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token operator\">:</span>\n        <span class=\"token function\">errorMessage</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">case</span> <span class=\"token string\">\"email\"</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isEmail</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">errorMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">successMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">\"userName\"</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isUserName</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">errorMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">successMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isName</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">errorMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">successMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">\"password\"</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token function\">isPassword</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n          obj<span class=\"token punctuation\">[</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> obj<span class=\"token punctuation\">[</span><span class=\"token string\">\"password2\"</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">successMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token function\">successMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">errorMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token function\">errorMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">errorMessage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  inputs<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      value<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"errorWarning\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      value<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sucessMessage\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">successMessage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  inputs<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      value<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sucessMessage\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      value<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"errorWarning\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">isEmail</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">email</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(([^&lt;>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^&lt;>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>\n    email\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">isName</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[ã„±-ã…|ã…-ã…£|ê°€-í£]{2,6}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">isUserName</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">userName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> checkerUserName <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^[a-zA-Z0-9]{5,10}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>userName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>checkerUserName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> checkerUserName<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">isPassword</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">password</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> checkPassword <span class=\"token operator\">=</span>\n    <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&amp;])[A-Za-z\\d$@$!%*#?&amp;]{8,}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>\n      password\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>checkPassword<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> checkPassword<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•˜ê³ ë‚˜ë©´ ì¼ë‹¨ í”„ë¡ íŠ¸ì—ì„œ ê²€ì¦ì„ ë§ˆì¹  ìˆ˜ ìˆë‹¤. ê²€ì¦ì„ í•  ë•Œ, í•˜ë‚˜ì˜ ê°’ì´ë¼ë„ falseê°€ ë‚˜ì˜¤ë©´ falseê°’ì„ return í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤. ê·¸ë˜ì„œ validationì´ ì²˜ìŒì— ì„¤ê³„í•œ ê²ƒê³¼ ë‹¤ë¥´ë‹¤. ê°’ì„ ì°¨ë¡€ëŒ€ë¡œ return í•˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ê°€ ì‹¤í–‰ ë˜ë‹¤ ì¤‘ë‹¨ëœë‹¤. ì•„ë§ˆë„ ì§€ê¸ˆì€ ê°œì„ ë˜ì§€ ì•Šì•˜ì§€ë§Œ ë°°ì—´ì— booleanê°’ì„ pushí•˜ì—¬ì„œ ëª¨ë‘ê°€ ì°¸ì´ë©´ trueë¥¼ ë¦¬í„´í•˜ê²Œ í•˜ê³  í•˜ë‚˜ë¼ë„ ê±°ì§“ì´ë©´ falseë¥¼ ë°˜í™˜í•˜ê²Œë” í•˜ë©´ ê°’ì€ ê°’ëŒ€ë¡œ ì „ë‹¬ë˜ê³  ì–‘ì‹ ì…ë ¥ì´ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê³³ì„ í•œë²ˆì— ì²´í¬ í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>\n<h4>ì™œ req.fileì´ undefinedì¼ê¹Œ?</h4>\n<p>ë¬¸ì œëŠ” íšŒì› ê°€ì… ì–‘ì‹ì— fileì„ ë°›ì•„ì•¼í•˜ëŠ”ë° controllerê°€ fileì„ ê³„ì† ì¸ì§€í•˜ì§€ ëª»í–ˆë‹¤. ì´ê²ƒìœ¼ë¡œ ê±°ì˜ 3ì‹œê°„ì„ ë‚ ë ¸ë‹¤.</p>\n<p>êµ¬ê¸€ì— ì—´ì‹¬íˆ ê²€ìƒ‰ì„ í–ˆë‹¤.</p>\n<blockquote>\n<ul>\n<li>multer with fetch</li>\n</ul>\n</blockquote>\n<ul>\n<li>req.file undefined multer, fetch, javascript</li>\n</ul>\n<p>í•˜ì§€ë§Œ ë‹µì„ ì‰½ê²Œ ì•Œìˆ˜ ì—†ì—ˆë‹¤. statusëŠ” 400ì´ë‚˜ 500ì„ ë°›ì•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">postDataToServer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/join\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\"Content-Type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"multipart/form-data\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">=</span> <span class=\"token string\">\"/login\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"wtf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>responseê°’ì´ okê°€ ì•„ë‹ˆë©´ ë°›ê²Œë˜ëŠ” 'wtf'ì„ ëª‡ ì‹œê°„ë™ì•ˆ ë°›ë‹¤ë³´ë‹ˆê¹Œ ë‚˜í•œí…Œ ìš•í•˜ëŠ” ê²ƒ ê°™ì•„ì„œ ê¸°ë¶„ì´ ì ì  ì¢‹ì•„ì§€ì§€ ì•Šì•˜ë‹¤. ì²˜ìŒì—” ì´ê²ƒë§Œ í•´ê²°í•˜ê³  ë°¥ë¨¹ì–´ì•¼ì§€ í–ˆëŠ”ë°... í•˜ë‹¤ë³´ë‹ˆ ì €ë…ì‹œê°„ë„ ë†“ì¹˜ê³  ì •ë§ ì§œì¦ì´ ì´ë§Œ ì €ë§Œì´ ì•„ë‹ˆì—ˆë‹¤.</p>\n<p>ì²˜ìŒì— multerë¥¼ êµ¬ì„±í•˜ê³  ìˆëŠ” middlewareê°€ ì˜ëª»ëë‹¤ê³  ìƒê°í–ˆë‹¤. ì™œëƒí•˜ë©´ fileì„ postí•˜ë ¤ê³  ìš”ì²­ì„ ë³´ëƒˆëŠ”ë° statusê°’ì´ 500ì„ ë°›ì•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/HTTP/Status/500\">500 Internal Server Error</a></p>\n<p>ê·¸ëŸ°ë° ì¡°ê¸ˆë§Œ ìƒê°í•´ë³´ë©´ ê·¼ê±°ê°€ ì—†ëŠ” ê²°ë¡ ì´ì—ˆë‹¤. ë³´ë‚´ëŠ” ê°’ì´ ì˜ëª»ëœê±´ì§€ ì„œë²„ê°€ ê°’ì„ ì²˜ë¦¬ë¥¼ ëª»í•˜ëŠ”ê±´ì§€ ì•Œ ìˆ˜ê°€ ì—†ì–ì•„? ì•„ë§ˆë„ ì²˜ìŒì— fetchë¥¼ í•  ë•Œ, fileì„ ë°›ê¸° ìœ„í•´ ë³´ë‚¸ headerê°’ì´ ì˜ëª» ëœê±°ë¼ê³  ìƒê°í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\"Content-Type\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"multipart/form-data\"</span> <span class=\"token comment\">//</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì–´ì¨Œë“  ì´ ê°’ì„ \"application/json\"ìœ¼ë¡œ ë°”ê¿”ì£¼ë‹ˆê¹Œ fileì€ ì—¬ì „íˆ undefinedì´ì§€ë§Œ ë‚˜ë¨¸ì§€ bodyê°’ì€ jsonìœ¼ë¡œ ë„˜ê²¨ ë°›ì„ ìˆ˜ ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<h4>í•´ê²°</h4>\n<p>ê²°ë¡ ì ìœ¼ë¡œ</p>\n<ul>\n<li>multerë¥¼ êµ¬ì„±í•˜ê³  ìˆëŠ” middlewareëŠ” ì•„ë¬´ ì˜ëª»ì´ ì—†ì—ˆë‹¤.</li>\n<li>ì• ì´ˆë¶€í„° ê°’ì„ ì˜ëª» ë„˜ê²¨ì£¼ê³  ìˆì—ˆë‹¤.</li>\n</ul>\n<blockquote>\n<p>í•´ê²°í•˜ëŠ”ë° ë„ì›€ì´ ëœ stackoverflow ê²Œì‹œë¬¼\n<a href=\"https://stackoverflow.com/questions/55926272/req-file-is-undefined-using-multer\">req.file is undefined using multer</a></p>\n</blockquote>\n<p>ë‚´ê°€ ë§Œë“  ê°ì²´ ê°’ì„ jsonìœ¼ë¡œ ì„œë²„ë¡œ ë³´ë‚´ëŠ” ë°©ë²•ì´ ì˜ëª»ë˜ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">postDataToServer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormData</span><span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì•„ì–˜ formë°ì´í„°ë¥¼ ë°›ì•„ì„œ fetch dataë¡œ ë„˜ê²¨ì£¼ì—ˆë”ë‹ˆ í•´ê²°ë˜ì—ˆë‹¤.</span>\n\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/join\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> file<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname <span class=\"token operator\">=</span> <span class=\"token string\">\"/login\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"wtf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ìš”ì²­ì— ì ë‹¹í•œ Http headerê°’ì„ ì§€ê¸ˆì€ ëª¨ë¥´ê² ë‹¤. ê·¸ëŸ°ë° headerë¥¼ ì œê±°í•˜ê³  bodyì— FormDataë¡œ ìƒì„±í•œ formê°’ì„ í•œë²ˆì— ë„˜ê²¨ì£¼ì—ˆë”ë‹ˆ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ bodyê°’ë¿ ì•„ë‹ˆë¼ fileê¹Œì§€ ì „ë¶€ ì¸ì‹í–ˆë‹¤.</p>\n<ul>\n<li>\n<p>ì§€ê¸ˆê¹Œì§€ì˜ ê³¼ì •ìœ¼ë¡œ ì¶”ì¸¡í•´ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì€ postë¥¼ ìš”ì²­í•  ë•Œ, routerê°€ postJoinì„ í•˜ê¸° ì „ì— multerë¥¼ ê±°ì¹˜ë„ë¡ ë˜ì–´ìˆëŠ”ë° ì´ë•Œ ë°ì´í„°ë¥¼ jsonì´ ì•„ë‹ˆë¼ form ë°ì´í„°ë¥¼ í•œë²ˆì— ë„˜ê²¨ì£¼ë©´ multerê°€ dataë¥¼ ë³´ê³  ì›ë˜ëŒ€ë¡œ íŒŒì¼ê³¼ bodyê°’ì„ ì „ë¶€ ë„˜ê²¨ì£¼ëŠ” ë“¯ í•˜ë‹¤.</p>\n</li>\n<li>\n<p>ê·¸ëŸ¼ frontì˜ validationì´ í—›ìˆ˜ê³ ê°€ ì•„ë‹Œê°€ ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ ê·¸ë ‡ì§€ë„ ì•Šë‹¤. fetchë¡œ ë„˜ì–´ê°€ê¸°ì „ì— ê°’ì„ ê²€ì¦í•œ ë‹¤ìŒì— ë„˜ê²¨ì£¼ëŠ” ê±°ë‹ˆê¹Œ ì˜ë¯¸ê°€ ì—†ì§€ ì•Šë‹¤.</p>\n</li>\n</ul>\n<h4>AWS S3ì—ì„œ ì‘ë™ì„ ì•ˆí•˜ëŠ” ê±¸ê¹Œ??</h4>\n<p>ë¡œì»¬ ì„œë²„ì—ì„œ ì„±ê³µì€ í–ˆë‹¤. ë¬¸ì œëŠ” heroku ì—…ë°ì´íŠ¸ í›„ì— íšŒì›ê°€ì…ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ìœ ê°€ ë­˜ê¹Œ? ì˜ ëª¨ë¥´ê² ë‹¤. ì¼ë‹¨ status codeëŠ” 500ì„ ë°›ëŠ”ë‹¤. serverì—ì„œ ë­”ê°€ ë¬¸ì œê°€ ìƒê¸´ê²ƒì´ ë¶„ëª…í•œë° AWS S3ë¡œ íŒŒì¼ì„ ë„˜ê²¨ì£¼ë©´ì„œ ì•„ë§ˆë„ ë­”ê°€ ë¬¸ì œê°€ ìˆëŠ”ê²Œ ì•„ë‹ê¹Œ? ê·¸ëƒ¥ ì¶”ì¸¡ì„ í•´ë³¼ ë¿ì´ë‹¤.</p>\n<p>ê·¸ëŸ¼ ì •ìƒì ìœ¼ë¡œ ì‘ë™ì„ ì‹œí‚¤ê¸° ìœ„í•´ì„œ ì¡°ê¸ˆ ë” ì½”ë“œë¥¼ ì •ë°€í•˜ê²Œ ë§Œë“¤ì–´ì•¼í•œë‹¤.</p>\n<blockquote>\n<p><strong>íšŒì› ê°€ì…ì´ ë˜ì§€ ì•ŠëŠ” ì´ìœ ë¥¼ ì°¾ê¸° ìœ„í•´ì„œ í•´ì•¼ í•  ê²ƒë“¤</strong></p>\n</blockquote>\n<ul>\n<li>controllerì—ì„œ unique ê²€ì¦ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ, status codeë¥¼ frontë¡œ ë³´ë‚´ì£¼ëŠ”ë° ì´ë ‡ê²Œ í–ˆì„ ê²½ìš°ì— frontì—ì„œ errorë©”ì‹œì§€ë¥¼ ì–´ëŠ ë¶€ë¶„ì—ì„œ ì‹¤íŒ¨í•œ ê²ƒì¸ì§€ ë³´ì—¬ì£¼ì–´ì•¼í•œë‹¤. ì§€ê¸ˆ ì½”ë“œëŠ” UX ë””ìì´ë„ˆê°€ ë´¤ì„ ë•Œ, WTFì´ë‹¤.</li>\n<li>frontì—ì„œ ê²€ì¦ì´ ì‹¤íŒ¨í–ˆë‹¤ë©´ ê·¸ëƒ¥ ë¹¨ê°„ìƒ‰ ì¤„ë§Œ ê¸‹ì§€ ë§ê³  ì™œ ì‹¤íŒ¨í–ˆëŠ”ì§€ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•´ì•¼í•œë‹¤.</li>\n<li>S3ë¡œ íŒŒì¼ ì—…ë°ì´íŠ¸ë¥¼ ì‹¤íŒ¨í•˜ê¸° ë•Œë¬¸ì— íšŒì› ê°€ì…ì´ ë˜ì§€ ì•ŠëŠ” ê²ƒì¸ì§€ ì•„ë‹Œì§€ë¥¼ ì•Œê¸° ìœ„í•´ì„œëŠ” ì¼ë‹¨ íŒŒì¼ì„ ì—…ë¡œë“œ í•˜ì§€ ì•Šê³  íšŒì› ê°€ì…ì„ ì§„í–‰ í•´ë³¸ë‹¤. ë‹¤ë¥¸ ì¡°ê±´ì´ ì„±ê³µ ì¡°ê±´ì¸ë° ì—¬ì „íˆ íšŒì› ê°€ì…ì— ì‹¤íŒ¨í•œë‹¤ë©´ S3ë¥¼ ì˜ì‹¬í•´ë³´ê¸°ë„ ì „ì— fetchì—ì„œ ë¬¸ì œê°€ ìˆë‹¤ê³  íŒë‹¨í•´ë³¼ ìˆ˜ ë°–ì— ì—†ë‹¤.</li>\n</ul>\n<p>ê³„ì† í…ŒìŠ¤íŠ¸ë¥¼ ë°˜ë³µí•˜ë‹¤ë³´ë‹ˆê¹Œ ë§Œë§Œì¹˜ê°€ ì•Šë‹¤. ì•„ë§ˆ ë””ë²„ê¹… ë°©ë²•ì´ ê·¸ë‹¥ ì¢‹ì§€ ì•Šê¸° ë•Œë¬¸ì´ ì•„ë‹ê¹Œ? console.logë¡œ ê°’ì„ ì°ì–´ì„œ ë³´ëŠ” ê²ƒì´ í•œê³„ê°€ ìˆë‹¤. ê·¸ëŸ°ë° <strong><em>nodejsëŠ” ë””ë²„ê¹… ì–´ë–»ê²Œ í•˜ëŠ”ê±°ëƒ?</em></strong> ğŸ¥²</p>","frontmatter":{"date":"2021ë…„ 9ì›” 02ì¼","tags":["ajax","javascript","validation"],"slug":"/validation-in-front-end","title":"Frontì—ì„œ ì–‘ì‹ ê²€ì¦í•˜ê¸°"}}},"pageContext":{}},"staticQueryHashes":["63159454"]}